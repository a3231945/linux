###rdb快照持久化

**1、持久化：**把数据存储于断电后不会丢失的设备中，通常是硬盘

**2、常见的持久化方式：**

	主从：通过从服务器保存和持久化，如mongoDB和replication sets 配置
	
	日志：操作生成相关日志，并通过日志来恢复
	couchDB对于数据内容不修改，只追加，则文件本身就是日志，不会丢失数据

	-----------------------------------------------------------------------
	rdb快照相关参数
	save 900 1 #刷新快照到硬盘中，必须满足两者要求才会触发，即900秒之后至少一个关键字发生变化
	save 300 10 #必须是300秒之后至少10个关键字发生变化
	save 60 1000 #必须是60秒之后至少10000个关键之发生变化
	stop-write-on-bgsave-error yes #后台存储错误停止写
	rdbcompression yes #使用lzf 压缩rdb文件
	rdbchechsum yes  #存储和加载rdb文件时校验
	dbfilename  dump.rdb #设置rdb文件名。
	dir ./ #设置工作目录，rdb文件会写入该目录
	
**3、rdb的工作原理：**每隔N分钟或N次写操作后，从内存dump数据形成rdb文件，压缩放在备份目录
	
**4、rdb的缺陷：**在2个保存点之间，断电，将会丢失1-N分钟的数据
